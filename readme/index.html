<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<head lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>Master Checkers</title>
	<!-- Framework CSS -->
	<link rel="stylesheet" href="assets/blueprint-css/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/blueprint-css/print.css" type="text/css" media="print">
	<link href="styles/shCore.css" rel="stylesheet" type="text/css" >
	<link href="styles/shCoreDefault.css" rel="stylesheet" type="text/css" >
	<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" >

	<!--[if lt IE 8]><link rel="stylesheet" href="assets/blueprint-css/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/blueprint-css/plugins/fancy-type/screen.css" type="text/css" media="screen, projection">
	<style type="text/css" media="screen">
		p, table, hr, .box { margin-bottom:25px; }
		.box p { margin-bottom:10px; }
	</style>

	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="scripts/shBrushXml.js"></script>
</head>


<body>
	<div class="container">

		<h3 class="center alt">&ldquo;Master Checkers&rdquo; Documentation by &ldquo;Myslate Tech&rdquo; v1.0</h3>

		<hr>

		<h1 class="center">&ldquo;Master Checkers&rdquo;</h1>

		<div class="borderTop">
			<div class="span-6 colborder info prepend-1">
				<p class="prepend-top">
					<strong>
					Created: 20/07/2015<br>
					By: <a href="http://www.myslatetech.com" target="_blank">Myslate Tech</a><br>
					Email: <a href="mailto:info@myslatetech.com">info@myslatetech.com</a>
					</strong>
				</p>
			</div><!-- end div .span-6 -->

			<div class="span-12 last">
				<p class="prepend-top append-0">If you have any questions that are beyond the scope of this help file, please feel free to email via user page contact form <a href="mailto:sanasandeep@gmail.com">here</a>. Thanks so much!</p>
			</div>
		</div><!-- end div .borderTop -->

		<hr>

		<h2 id="toc" class="alt">Table of Contents</h2>
		<ol class="alpha">
			<li><a href="#desc">Description</a></li>
			<li><a href="#content">Folder Content</a></li>
			<li><a href="#start">Getting Started</a></li>
			<li><a href="#htmlStructure">HTML Structure</a></li>
			<li><a href="#cssFiles">CSS Files and Structure</a></li>
			<li><a href="#javascript">JavaScript</a></li>
			<li><a href="#game_function">Game functions</a></li>
			<li><a href="#change_graphics">Change Graphic</a></li>
			<li><a href="#disable_sound">Disable Sounds</a></li>
		</ol>

		<hr>

		<h3 id="desc"><strong>A) Description</strong> - <a href="#toc">top</a></h3>
		<p>Master Checkers is a HTML5 Board Game. Play this stylish version ot the classic board game Checkers.<br>
			<br>
			The ZIP package contains the game with 1280x1920 resolution that scales to fit the whole screen device<br>
			Just warning that for very wide screens, the game may not be perfectly full screen.
			The game is fully compatible with all most common mobile devices.<br>
			Sounds are enabled for mobile but we can't grant full audio compatibility on all mobile devices due to some well-know issue between some mobile-browser and HTML5.
			So if you want to avoid sound loading, please read <a href="#disable_sound">Disable Sound</a> section). <br>
			<strong>WARNING:</strong> Sounds can't be enabled for Windows Phone as this kind of device have unsolved issues with 'audio' and 'video' tag.

		</p>
		<hr>

		<h3 id="content"><strong>B) Folder Content</strong> - <a href="#toc">top</a></h3>
		<ol>
			<li><strong>ctl_arcade_wp_plugin:</strong></li>
			<li><strong>game</strong></li>
			This folder contains the full game source code ready to be edited.
			<li><strong>live_demo</strong></li>
			This folder contains the obfuscated code. You should upload this folder on your server if you don't need to make any changes.
			<li><strong>readme</strong></li>
			This folder contains the package instructions.
			<li><strong>thumbs</strong></li>
			This folder contains all game icons.
		</ol>
		<hr>

		<h3 id="start"><strong>C)Getting Started</strong> - <a href="#toc">top</a></h3>
			<p>To install the game just upload on your server the game folder live_demo.

			<ul>
				<li><strong>Game Embedding: </strong>The proper way to embed the game is in a full-screen web page or in an iframe.<br>
                                        In the first case the game will fit the screen size, in the second, that of the iframe.<br>
                                        If the iframe size matches that of the screen, the game will fit accordingly.<br>
                                        The alignment will be proportioned to the aspect ratio of the game.<br>

				<li> <strong>Localization:</strong> You can easily change game text for different languages, changing string in <strong>CLang.js</strong></li>

				<pre class="brush: js">
                                    var TEXT_PRELOADER_CONTINUE = "START";
                                    var TEXT_GAMEOVER  = "WINS";
                                    var TEXT_DRAW      = "DRAW";
                                    var TEXT_MOVES      = "MOVES";
                                    var TEXT_THINKING   = "THINKING";

                                    var TEXT_MODE      = "CHOOSE GAME MODE";

                                    var TEXT_BLACK     = "BLACK";
                                    var TEXT_WHITE     = "WHITE";

                                    var TEXT_JUMP      = "MANDATORY JUMP!";
                                    var TEXT_MOVES_AVAIL = "NO MOVES AVAILABLE";

                                    var TEXT_CREDITS_DEVELOPED = "DEVELOPED BY";

                                    var TEXT_SHARE_IMAGE = "200x200.jpg";
                                    var TEXT_SHARE_TITLE = "Congratulations!";
                                    var TEXT_SHARE_MSG1 = "You collected <strong>";
                                    var TEXT_SHARE_MSG2 = " points</strong>!<br><br>Share your score with your friends!";
                                    var TEXT_SHARE_SHARE1 = "My score is ";
                                    var TEXT_SHARE_SHARE2 = " points! Can you do better?";
				</pre>
				<li><strong>Game option:</strong> You can easily customize game setting when creating a new instance of the game in <strong>index.html</strong> file</li>
				<pre class="brush: js">
					var oMain = new CMain({
											fullscreen:true, //SET THIS TO FALSE IF YOU DON'T WANT TO SHOW FULLSCREEN BUTTON
											check_orientation:true,     //SET TO FALSE IF YOU DON'T WANT TO SHOW ORIENTATION ALERT ON MOBILE DEVICES
                                });
				</pre>
			</ul>
			</p>
		<hr>

		<h3 id="htmlStructure"><strong>D) HTML Structure</strong> - <a href="#toc">top</a></h3>
		<p>This game have the canvas tag in the body. The ready event into the body calls the main function of the game: CMain().
		<br>The head section declares all the javascript functions of the game. The whole project uses a typical object-oriented approach.<br>
		In the init function there are 5 mapped <a href="#events">events</a> that can be useful eventually for stats</p>

		<pre class="brush: js">
			<body  ondragstart="return false;" ondrop="return false;" >
				  <script>
				   $(document).ready(function(){
							 $(oMain).on("start_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN PLAY BUTTON IN MENU SCREEN IS CLICKED
							 });

							 $(oMain).on("end_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN THE EXIT BUTTON IS CLICKED.
							 });

							 $(oMain).on("save_score", function(evt,iWinner, iBlackTime, iWhiteTime,iScore,szMode) {
									// iWinner:
									// -1 IS DRAW
									//0 WHITE WINS
									//1 BLACK WINS
									//2 WHITE WINS CAUSE BLACK CAN'T MOVE
									//3 BLACK WINS CAUSE WHITE CAN'T MOVE
									//alert("iBlackPoints: "+iBlackPoints+", iWhitePoints: "+iWhitePoints+", iBlackTime: "+iBlackTime+", iWhiteTime: "+iWhiteTime);
							 });

						      $(oMain).on("show_interlevel_ad", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN GAME IS OVER. MAY BE USEFUL TO CALL ADS SCRIPT.
							 });

							 $(oMain).on("share_event", function(evt, iScore, s_iGameType, iWinner) {
									//THIS EVENT IS TRIGGERED WHEN EXIT BUTTON IS CLICKED.
							 });
						});

				  </script>

				canvas id="canvas" class='ani_hack' width="768" height="1500"> </canvas>
			</body>
		</pre>

		<hr>

		<h3 id="cssFiles"><strong>E) CSS Files and Structure</strong> - <a href="#toc">top</a></h3>

		<p>The game use two CSS files. The first one is a generic reset file. Many browser interpret the default behavior of html elements differently. By using a general reset CSS file, we can work round this.
		Keep in mind, that these values might be overridden somewhere else in the file.</p>

		<p>The second file contains all of the specific stylings for the canvas and some hack to be fully compatible with all most popular mobile devices</p>

		<hr>

		<h3 id="javascript"><strong>F) JavaScript</strong> - <a href="#toc">top</a></h3>

		<p>This game contains:</p>

		<ol>
			<li>jQuery</li>
			<li>Our custom scripts</li>
			<li>CreateJs plugin</li>
                        <li>Howler.js plugin</li>
                        <li>Screenfull.js plugin</li>
		</ol>

		<ol>
			<li>jQuery is a Javascript library that greatly reduces the amount of code that you must write.</li>
			<li>The game have the following js files:

			<ul>
				<li>CMain: the main class called by the index file. <br>This file controls the sprite_lib.js file that manages the sprite loading, the loop game and initialize the canvas with the CreateJs library</li>
				<li>ctl_utils: this file manages the canvas resize and its centering</li>
				<li>sprite_lib: this class loads all images declared in the main class</li>
				<li>settings: general game settings</li>
				<li>CLang: global string variables for language localization</li>
				<li>CPreloader: simple text preloader to show resources loading progress</li>
				<li>CMenu: simple menu with the play button</li>
				<li>CGfxButton: this class create a standard button</li>
				<li>CToggle: this class create a standard toggle button</li>
				<li>CTextButton: this class create a standard text button</li>
				<li>CGame: this class manages the game logic</li>
				<li>CInterface: this class controls game GUI that contains text and buttons</li>
				<li>CModeMenu: this class manages the panel where the user choose the game mode</li>
				<li>CCell: this class manages the board cell to be clicked</li>
				<li>CInfoTurn: this class manages the graphic that show the player turn.</li>
				<li>CEndPanel: this class manages the panel that is shown when the game is over</li>
				<li>CMessage: this class manages the panel that alert the user that is forced to make a specific jump.</li>
				<li>CMovingCell: this class manages the cell that graphically shows a pawn movement.</li>
				<li>CStartAnimation: this class manages starting pawn animation when game starts.</li>
				<li>CThinking: this class manages the text panel that is shown when CPU makes its move.</li>
                                <li>CAreYouSurePanel: this class ensure the confirm to exit from game</li>
                                <li>ios_fullscreen: this class manages fullscreen on iOS </li>
			</ul>

			</li>
			<li>CreateJs is a suite of modular libraries and tools which work together to enable rich interactive content on open web technologies via HTML5.</li>
                        <li>Howler.js is a suite that manages the sounds</li>
                        <li>Screenfull.js manages the fullscreen functionality</li>
		</ol>

		<p>Resuming, the complete game flow is the following: </p>
		<ol>
			<li>The index.html file calls the CMain.js file after ready event is called</li>
			<li>The main class calls CPreloader.js to init preloader text and start sprite loading</li>
			<li>When all sprites contained in "/sprites" and "/sounds" folder are loaded, the main class removes the preloader and calls the CMenu.js file that shows the main menu</li>
			<li>If the user click the Play button in main menu, the CModeMenu.js file is loaded and the user can choose a game mode</li>
			<li>After selecting the game mode, the CGame.js class is called and game starts</li>
			<li>If the user click on the exit button in the up-right corner, the game returns to the menu screen</li>
		</ol>

		<hr>

		<h3 id="game_function"><strong>G) Game functions</strong> - <a href="#toc">top</a></h3>
			In this section will be explained all the most important functions used in <strong>CGame.js</strong> file. <br><br>

		<ul>
			<li><strong>_init()</strong> <br>
				This function attach on the canvas some game sprites like background (oBg)and the GUI.
			</li>
			<li><strong>_initGrid()</strong> <br>
				This function creates the game board with all cickable cells.
			</li>
			<li><strong>_AIMoves()</strong> <br>
				This function manages the AI moves.
			</li>
			<li><strong>changeTurn()</strong> <br>
				This function manages the game turns.
			</li>
			<li><strong>cellClicked</strong> <br>
				This function is called when user click a board cell.
			</li>
			<li><strong>_checkLegalMoves</strong> <br>
				This function checks what moves can make a pawn in a given time.
			</li>
			<li><strong>gameOver()</strong> <br>
				This function is called when there is a winner.
			</li>
			<li><strong>update()</strong> <br>
				This function manages the main game loop.
			</li>
		</ul>


		<hr>

		<h3 id="change_graphics"><strong>H) Change Graphic</strong> - <a href="#toc">top</a></h3>
		<p>
			You can easily change all the game graphic, replacing all the file you need in the "/sprites" folder. Just respect file format (.png or .jpg) and size if you don't want to change any code line.<br>
		</p>

		<h3 id="disable_sound"><strong>I) Disable Sounds</strong> - <a href="#toc">top</a></h3>
		<p>If you want to disable all the sounds for mobile devices, you have to change the following value in settings.js file:</p>
			<pre class="brush: js">var DISABLE_SOUND_MOBILE = true;</pre>

		<br><br>

		<p>Feel free to contact us if you have any questions or issue relating to this game. No guarantees, but we'll do our best to assist.</p>

		<p class="append-bottom alt large"><a href="http://www.myslatetech.com" target="_blank"><strong>Myslate Tech</strong></a></p>
		<p><a href="#toc">Go To Table of Contents</a></p>

		<hr class="space">
	</div>
	<!-- end div .container -->

	<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
	<script type="text/javascript">
		 SyntaxHighlighter.all()
	</script>
</body>
</html>
